function vml_PolynomialRegressionUI(){this.oDataGen=null;this.oAlgo=null;this.lCurve=[];this.lGrid=[];this.Init=function(){this.oDataGen=new vml_DataGen();this.oDataGen.Init(undefined,true);this.oAlgo=new vml_PolynomialRegression();document.getElementById("trainBtn").addEventListener("click",this.Train.bind(this),false);document.getElementById("resetModel").addEventListener("click",this.ResetModel.bind(this),false);document.getElementById("fitBtn").addEventListener("click",this.Fit.bind(this),false);document.getElementById("stopBtn").disabled=true;this.InitGrid()};this.Plot=function(){var a=this.oDataGen.lData;a.push({label:"Regression curve",data:this.lCurve,lines:{show:true}});$.plot("#"+this.oDataGen.strPlotDiv,a,this.oDataGen.oPlotSettings);a.splice(a.length-1,1)};this.Train=function(){for(var a=0;a!=this.GetNumberOfIterations();a++){this.oAlgo.UpdateWeights(this.GetLearningRate(),this.GetRegularizationRate())}this.ComputeRegressionCurve();this.Plot()};this.Fit=function(){this.oAlgo.Init(this.GetPolynomDegree(),this.oDataGen.oClassA.Data);this.oAlgo.Fit(this.GetRegularizationRate());this.ComputeRegressionCurve();this.Plot()};this.ComputeRegressionCurve=function(){this.lCurve=[];for(var b=0;b!=this.lGrid.length;b++){var a=this.lGrid[b];this.lCurve.push([a,this.oAlgo.Predict(a)])}};this.ResetModel=function(){this.oAlgo.Init(this.GetPolynomDegree(),this.oDataGen.oClassA.Data);this.ComputeRegressionCurve();this.Plot()};this.InitGrid=function(){this.lGrid=vml_utils.BuildGrid1d(-5,5)};this.IsAnimated=function(){return document.getElementById("showAnimation").checked};this.GetPolynomDegree=function(){var a=document.getElementById("polynomDegree").value;if(a==""||a==undefined){return 1}else{return parseInt(a)}};this.GetLearningRate=function(){var a=document.getElementById("learningRate").value;if(a==""||a==undefined){return 1}else{return parseFloat(a)}};this.GetNumberOfIterations=function(){var a=document.getElementById("numTrainItr").value;if(a==""||a==undefined){return 0}else{return parseInt(a)}};this.GetRegularizationRate=function(){var a=document.getElementById("regulRate").value;if(a==""||a==undefined){return 0}else{return parseFloat(a)}}};