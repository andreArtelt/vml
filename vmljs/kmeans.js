function vml_kmeans(){this.iNumCenter=1;this.lCenters=[];this.lData=[];this.lLabels=[];this.lTempMean=[];this.lTempLabelCount=[];this.Init=function(a,c){this.lCenters=[];this.iNumCenter=c;this.lData=a;this.iDim=2;for(var b=0;b!=this.iNumCenter;b++){this.lTempMean.push(vml_utils.FillList(this.iDim,0));this.lTempLabelCount.push(0);this.lCenters.push(math.random([this.iDim],-5,5))}};this.FitStep=function(){for(var a=0;a!=this.lData.length;a++){this.lLabels[a]=this.Predict(this.lData[a]);this.lTempMean[this.lLabels[a]]=math.add(this.lTempMean[this.lLabels[a]],this.lData[a]);this.lTempLabelCount[this.lLabels[a]]+=1}for(var a=0;a!=this.iNumCenter;a++){this.lCenters[a]=vml_math.MultiplyScalar(this.lTempMean[a],(1/this.lTempLabelCount[a]));this.lTempMean[a]=vml_utils.FillList(this.iDim,0);this.lTempLabelCount[a]=0}};this.Predict=function(c){var d=0;var a=-1;for(var b=0;b!=this.iNumCenter;b++){fDist=math.distance(this.lCenters[b],c);if(fDist<a||a==-1){d=b;a=fDist}}return d}};